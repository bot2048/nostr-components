<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nostr Components Demo</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background: #f5f5f5;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      h1 {
        color: #333;
        margin-top: 0;
      }
      .section {
        margin-bottom: 30px;
        padding: 20px;
        border: 1px solid #eee;
        border-radius: 8px;
      }
      .dark-mode {
        background: #1a1a1a;
        color: #f0f0f0;
      }
      .dark-mode .section {
        background: #2d2d2d;
        border-color: #444;
      }
      .dark-mode h1, .dark-mode h2 {
        color: #f0f0f0;
      }
      .component-demo {
        margin: 20px 0;
        padding: 20px;
        background: #f9f9f9;
        border-radius: 8px;
      }
      .dark-mode .component-demo {
        background: #252525;
      }
      pre {
        background: #f5f5f5;
        padding: 15px;
        border-radius: 6px;
        overflow-x: auto;
      }
      .dark-mode pre {
        background: #2d2d2d;
        color: #f0f0f0;
      }
      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 8px 16px;
        background: #6c2bd9;
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()">Toggle Dark Mode</button>
    <div class="container" id="container">
      <h1>Nostr Components Demo</h1>
      
      <div class="section">
        <h2>Zap Button</h2>
        <p>Send sats to any Nostr user with a lightning address or LNURL.</p>
        
        <div class="component-demo">
          <h3>Basic Usage</h3>
          <nostr-zap-button 
            npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
            amount="1000"
            comment="Thanks for the great content!"
          ></nostr-zap-button>
          
          <h4>Code:</h4>
          <pre><code>&lt;nostr-zap-button 
  npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
  amount="1000"
  comment="Thanks for the great content!"
&gt;&lt;/nostr-zap-button&gt;</code></pre>
        </div>
        
        <div class="component-demo">
          <h3>With Custom Amount</h3>
          <nostr-zap-button 
            npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
            amount="5000"
          ></nostr-zap-button>
          
          <h4>Code:</h4>
          <pre><code>&lt;nostr-zap-button 
  npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
  amount="5000"
&gt;&lt;/nostr-zap-button&gt;</code></pre>
        </div>
        
        <div class="component-demo">
          <h3>Dark Theme</h3>
          <nostr-zap-button 
            npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
            amount="1000"
            theme="dark"
          ></nostr-zap-button>
          
          <h4>Code:</h4>
          <pre><code>&lt;nostr-zap-button 
  npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
  amount="1000"
  theme="dark"
&gt;&lt;/nostr-zap-button&gt;</code></pre>
        </div>
      </div>
      
      <div class="section">
        <h2>Follow Button</h2>
        <p>Follow any Nostr user with a simple button.</p>
        
        <div class="component-demo">
          <nostr-follow-button 
            npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
          ></nostr-follow-button>
          
          <h4>Code:</h4>
          <pre><code>&lt;nostr-follow-button 
  npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
&gt;&lt;/nostr-follow-button&gt;</code></pre>
        </div>
      </div>
    </div>
    
    <script type="module" src="/dist/nostr-profile-badge.js"></script>
    <script type="module" src="/dist/nostr-post.js"></script>
    <script type="module" src="/dist/nostr-profile.js"></script>
    <script type="module" src="/dist/nostr-follow-button.js"></script>
    <script type="module" src="/dist/nostr-zap-button.js"></script>

    <!--  <div style="width: 170px;">
      <nostr-profile-badge
        npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
        nip05="djhemath@iris.to"
        theme="light"
        showNPub="true"
        onClick="onClick"
      ></nostr-profile-badge>
    </div>

    <br /><br />

    <div style="width: 170px;">
      <nostr-profile-badge
        nip05="saiy2k@iris.to"
        theme="light"
        showNPub="true"
        onClick="onSaiClick"
      ></nostr-profile-badge>
    </div> -->

    <br /><br />

    <div style="width: 570px">
      <nostr-post
        eventId="note1qengsmnrh338g7zar8lnz3m270zl8aln55ttaw78ltzvqs4v2llswqu3y2"
        theme="light"
        showStats="true"
      ></nostr-post>

      <!-- <nostr-post
        eventId="note1fv2tp2k432uw6te0kqfdgshnhtjsl8qm8hyl4e3re7aadmwleh2s09tytn"
        theme="light"
        showStats="true"
      ></nostr-post> -->
    </div>

    <div style="width: 530px">
      <!-- <nostr-profile
        npub="npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf"
        nip05="djhemath@iris.to"
        theme="light"
        showNPub="true"
        onClick="onClick"
      ></nostr-profile> -->

      <!-- <nostr-profile
        nip05="saiy2k@iris.to"
        theme="light"
        showNPub="true"
        onClick="onClick"
      ></nostr-profile> -->
    </div>

    <div>
      <!-- <nostr-follow-button
        npub="npub1hu3hdctm5nkzd8gslnyedfr5ddz3z547jqcl5j88g4fame2jd08qh6h8nh"
      ></nostr-follow-button> -->
    </div>

    <script>
      // Toggle dark/light theme
      function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        document.getElementById('container').classList.toggle('dark-mode');
        
        // Save preference to localStorage
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDark);
      }
      
      // Check for saved theme preference
      if (localStorage.getItem('darkMode') === 'true') {
        document.body.classList.add('dark-mode');
        document.getElementById('container').classList.add('dark-mode');
      }

      // Example event handlers
      function onClick(profile) {
        console.log('Profile clicked:', profile);
      }

      function onSaiClick(profile) {
        console.log('Sai profile clicked:', profile);
      }

      function onPostClick(post) {
        console.log('Post clicked:', post);
      }
      
      // Handle zap events
      document.addEventListener('zap', (e) => {
        console.log('Zap event:', e.detail);
        alert(`Zap sent! ${e.detail.amount} sats`);
      });
      
      document.addEventListener('zap:error', (e) => {
        console.error('Zap error:', e.detail);
        alert(`Zap failed: ${e.detail.message}`);
      });
    </script>
  </body>
</html>
