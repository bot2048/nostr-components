<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nostr Zap Component Test</title>
    <script type="module" src="../dist/components/nostr-zap.es.js"></script>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 800px;
        margin: 2rem auto;
        padding: 0 1rem;
      }
      h1, h2 {
        border-bottom: 1px solid #eaeaea;
        padding-bottom: 10px;
      }
      .test-case {
        padding: 1rem;
        border: 1px solid #ccc;
        border-radius: 8px;
        margin-bottom: 1.5rem;
      }
      .test-case h3 {
        margin-top: 0;
      }
      code {
        background-color: #f4f4f4;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
      }
      .custom-color-zap {
        --nstrc-zap-btn-bg: #8a2be2;
        --nstrc-zap-btn-color: #ffffff;
      }
    </style>
  </head>
  <body>
    <h1>Nostr Zap Component Test Suite</h1>

    <!-- Functional Tests -->
    <h2>Functional Tests</h2>
    <div class="test-case">
      <h3>Standard Zap (npub)</h3>
      <p>Should open dialog and allow zapping to pablof7z.</p>
      <nostr-zap npub="npub1qsvv5ttv6mrlh38q8ydmw3gzwq360mdu8re2vr7rk68sqmhmsh4svhsft3"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Zap with Pubkey</h3>
      <p>Should work with a raw hex pubkey.</p>
      <nostr-zap pubkey="0418ca2d6cd6c7fbc4e0391bb745027023a7edbc38f2a60fc3b68f006efb85eb"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Zap with NIP-05</h3>
      <p>Should resolve pablof7z@nostr.band and allow zapping.</p>
      <nostr-zap nip05="saiy2k@iris.to"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Fixed Amount Zap</h3>
      <p>Dialog should show 'Zapping 100 sats' and not allow changing the amount.</p>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" amount="100"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Default Amount Zap</h3>
      <p>Dialog should pre-fill with 500 sats.</p>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" default-amount="500"></nostr-zap>
    </div>

    <!-- UI/Cosmetic Tests -->
    <h2>UI/Cosmetic Tests</h2>
    <div class="test-case">
      <h3>Custom Button Text</h3>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" button-text="Tip Me!"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Custom Button Color (via CSS Variable)</h3>
      <p>Button should be blue-violet.</p>
      <nostr-zap class="custom-color-zap" npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Dark Theme</h3>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" theme="dark"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Custom Icon Size</h3>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" icon-width="32" icon-height="32"></nostr-zap>
    </div>

    <!-- Validation/Error Tests -->
    <h2>Validation / Error Tests</h2>
    <div class="test-case">
      <h3>Invalid Npub</h3>
      <p>Button should be disabled and show 'ERROR'. Check console for logs.</p>
      <nostr-zap npub="invalid-npub"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Invalid Pubkey</h3>
      <p>Button should be disabled and show 'ERROR'. Check console for logs.</p>
      <nostr-zap pubkey="invalid-pubkey"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Invalid NIP-05</h3>
      <p>Button should be disabled and show 'ERROR'. Check console for logs.</p>
      <nostr-zap nip05="invalid-nip05"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Button Text Too Long</h3>
      <p>Check console for error message.</p>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" button-text="This button text is far too long and should trigger a validation error in the console to let the developer know that they have exceeded the one hundred and twenty-eight character limit."></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Amount Too High</h3>
      <p>Check console for error message.</p>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" amount="300000"></nostr-zap>
    </div>

    <div class="test-case">
      <h3>Default Amount Too High</h3>
      <p>Check console for error message.</p>
      <nostr-zap npub="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft" default-amount="300000"></nostr-zap>
    </div>

  </body>
</html>
