<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nostr Comment Component Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #333;
            margin-bottom: 16px;
        }

        .header p {
            color: #666;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .header .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: left;
        }

        .feature h3 {
            margin: 0 0 10px 0;
            color: #007bff;
        }

        .feature p {
            margin: 0;
            font-size: 14px;
        }

        .article-content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .article-content h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .article-content p {
            color: #555;
            margin-bottom: 16px;
        }

        .demo-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .demo-section h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        .theme-toggle {
            margin: 20px 0;
            text-align: center;
        }

        .theme-toggle button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 10px;
            font-size: 14px;
        }

        .theme-toggle button:hover {
            background: #0056b3;
        }

        .theme-toggle button.active {
            background: #28a745;
        }

        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #007bff;
        }

        .config-section h4 {
            margin-top: 0;
            color: #333;
        }

        .config-section code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }

        .note strong {
            color: #533f03;
        }

        /* Custom CSS variables for demonstration */
        .custom-theme {
            --nstrc-comment-background-light: #ffffff;
            --nstrc-comment-background-dark: #2d3748;
            --nstrc-comment-text-color-light: #2d3748;
            --nstrc-comment-text-color-dark: #e2e8f0;
            --nstrc-comment-border-color-light: #e2e8f0;
            --nstrc-comment-border-color-dark: #4a5568;
            --nstrc-comment-button-background-light: #3182ce;
            --nstrc-comment-button-background-dark: #63b3ed;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .header, .article-content, .demo-section {
                padding: 20px;
            }
            
            .header .features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üó®Ô∏è Nostr Comment Component</h1>
        <p>Decentralized comments powered by the Nostr protocol</p>
        
        <div class="features">
            <div class="feature">
                <h3>üîí Decentralized</h3>
                <p>Comments are stored on the Nostr network, not controlled by any single entity</p>
            </div>
            <div class="feature">
                <h3>üöÄ Easy Integration</h3>
                <p>Drop-in web component that works with any website or framework</p>
            </div>
            <div class="feature">
                <h3>üé® Customizable</h3>
                <p>Full theme support and CSS customization options</p>
            </div>
            <div class="feature">
                <h3>‚ö° Fast & Lightweight</h3>
                <p>Optimized for performance with minimal dependencies</p>
            </div>
        </div>
    </div>

    <div class="article-content">
        <h2>Sample Blog Post: The Future of Decentralized Social Media</h2>
        <p>
            The internet is evolving, and so is how we communicate online. Traditional social media platforms 
            have given us incredible connectivity, but they've also created challenges around censorship, 
            data ownership, and platform dependency.
        </p>
        <p>
            Enter Nostr (Notes and Other Stuff Transmitted by Relays) - a simple, open protocol that enables 
            decentralized social networking. Unlike traditional platforms, Nostr doesn't rely on a central 
            authority. Instead, it uses a network of relays to distribute content, giving users true ownership 
            of their data and communications.
        </p>
        <p>
            This comment system below is powered by Nostr, demonstrating how we can build decentralized 
            features that integrate seamlessly with existing websites. Users can comment using their Nostr 
            identity, and comments are stored across multiple relays for resilience and censorship resistance.
        </p>
    </div>

    <div class="demo-section">
        <h3>üí¨ Comments Section</h3>
        
        <div class="config-section">
            <h4>Component Configuration</h4>
            <p>This comment widget is configured with:</p>
            <ul>
                <li><code>url</code>: Automatically detected (current page URL)</li>
                <li><code>theme</code>: Switchable between light and dark</li>
                <li><code>relays</code>: Using default Nostr relays</li>
                <li><code>placeholder</code>: Custom placeholder text</li>
            </ul>
        </div>

        <div class="theme-toggle">
            <button onclick="setTheme('light')" id="light-btn" class="active">‚òÄÔ∏è Light Theme</button>
            <button onclick="setTheme('dark')" id="dark-btn">üåô Dark Theme</button>
        </div>

        <div class="note">
            <strong>Note:</strong> To leave a comment, you can either use a Nostr browser extension 
            (like nos2x or Alby) or the component will automatically generate a key pair for you. 
            Your comments will be published to the Nostr network and visible to anyone viewing this page.
        </div>

        <!-- Nostr Comment Component -->
        <div class="custom-theme">
            <nostr-comment 
                id="comment-widget"
                theme="light"
                placeholder="Share your thoughts about decentralized social media..."
                relays="wss://relay.damus.io,wss://nostr.wine,wss://relay.nostr.net"
            ></nostr-comment>
        </div>
    </div>

    <div class="demo-section">
        <h3>üõ†Ô∏è How to Use</h3>
        
        <div class="config-section">
            <h4>1. Include the Script</h4>
            <p>Add the component script to your HTML:</p>
            <pre><code>&lt;script type="module" src="./dist/components/nostr-comment.es.js"&gt;&lt;/script&gt;</code></pre>
        </div>

        <div class="config-section">
            <h4>2. Add the Component</h4>
            <p>Use the web component in your HTML:</p>
            <pre><code>&lt;nostr-comment 
  theme="light"
  placeholder="Write a comment..."
  relays="wss://relay.damus.io,wss://nostr.wine"
&gt;&lt;/nostr-comment&gt;</code></pre>
        </div>

        <div class="config-section">
            <h4>3. Available Attributes</h4>
            <ul>
                <li><code>theme</code>: "light" or "dark" (default: "light")</li>
                <li><code>url</code>: Custom URL for comment grouping (default: current page)</li>
                <li><code>relays</code>: Comma-separated list of Nostr relay URLs</li>
                <li><code>placeholder</code>: Placeholder text for the comment input</li>
                <li><code>readonly</code>: "true" to disable commenting (default: "false")</li>
            </ul>
        </div>

        <div class="config-section">
            <h4>4. Styling</h4>
            <p>Customize appearance with CSS variables:</p>
            <pre><code>:root {
  --nstrc-comment-background-light: #ffffff;
  --nstrc-comment-text-color-light: #333333;
  --nstrc-comment-button-background-light: #007bff;
  /* ... more variables */
}</code></pre>
        </div>
    </div>

    <!-- Load the component -->
    <script type="module" src="./dist/components/nostr-comment.es.js"></script>

    <script>
        function setTheme(theme) {
            const widget = document.getElementById('comment-widget');
            widget.setAttribute('theme', theme);
            
            // Update button states
            document.getElementById('light-btn').classList.toggle('active', theme === 'light');
            document.getElementById('dark-btn').classList.toggle('active', theme === 'dark');
        }

        // Initialize theme
        setTheme('light');

        // Add some debugging
        window.addEventListener('load', () => {
            console.log('Page loaded. Comment component should be initialized.');
            
            // Check if component is defined
            if (customElements.get('nostr-comment')) {
                console.log('‚úÖ nostr-comment component is registered');
            } else {
                console.warn('‚ùå nostr-comment component is not registered');
            }
        });
    </script>
</body>
</html>
